# 2장

# TL;DR

- 객체를 구성할땐 책임을 먼저 생각하고, 그 책임에 따른 행동을 생각한다. 그 다음에서야 상태를 생각하라.
    - 행동(behavior)은 상태에 종속적, 상태보다 더 자주 바뀔 수 있는 요소, 또 다른 객체가 외부에서 해당 객체에게 message 를 보낼 수 있는 창구.
    - 그렇기에, 책임을 기반으로 객체의 행동을 먼저 설계하면, 객체가 다른 객체와 어떻게 소통할지를 생각하기가 조금 더 쉬워진다.
        - 이는 객체지향의 본질인 독립성이 보장된 각 객체간의 협력이 쉽도록 만든다.

# 객체의 상태, 행동, 그리고 협력

- 객체는 상태(state), 행동(behavior)로 크게 구성될 수 있다.
- 객체는 자신이 하겠다는 행동을 통해서만 스스로의 상태를 바꾼다.
- 객체는 다른 객체의 상태를 바꾸기 위해, 그 객체의 상태를 직접 조작하지 않는다.
    - 그저, 다른 객체에게 메시지를 보낼 뿐이다. '~를 해줘' 라고. 이 때, 메시지를 받는 객체의 상태가 어떤지는 신경쓰지 않는다.
    - 다른 객체는 그 메시지를 받고, 자신의 상태를 감안해, 해당 메시지에 담긴 요구사항대로 행동을 하여 자신의 상태를 변경한다.
- 이렇게 객체는 다른 객체들과 서로 메시지를 주고받으며 각자의 행동으로 각자의 상태를 바꾸는걸 통해 협력하며, 이렇게 행동을 기준으로 잘 나뉘어져 있어야 객체를 통한 협력이 수월해지며, 응집도(composition)이 올라간다.

# 객체에 대한 오해

- 객체는 현실의 문제를 그대로 반영한 것이 아니다.
- 위에 적었듯, 객체는 스스로의 행동으로 스스로의 상태를 바꾼다.
- 현실 속에서 나의 행동이 다른 것에 영향을 주어 상태를 직접 바꾸는 것관 사뭇 다른 사고방식이다.
    - 컴퓨터라는 machine 의 조작을 예시로 한 번 생각해보자.
    - 현실을 기준으로는, 집에서 내가 꺼져있는 컴퓨터의 전원버튼을 누르면 컴퓨터가 꺼진다고 말할 수 있다.
    - 그러나 객체를 기반으로 사고하는 객체지향 사고방식에서는
        - 집에서 내가 '꺼져있는 상태(state)의' 컴퓨터에게 '작동해줘' 라고 전원 버튼을 누르면서 메세지를 보낸다.
        - 전원 버튼이 눌려진 '꺼져있는 상태의' 컴퓨터는 그 메시지를 확인하고, 자신의 상태를 확인한다.
        - 컴퓨터는 '본인의 전원을 켜는' 행동(behavior)을 통해 스스로의 상태를 꺼져있는 상태에서 켜져있는상태로 전환한다.
- 스스로 행동할 수 없다고 생각하는 것들을 스스로 행동하는 것처럼 간주하고, 상호간의 협력을 통해 무언가를 해 나간다는 이런 사고방식은 현실의 정확한 반영이 아닌, 현실을 소재로 한 은유(metaphor)라는 표현이 더욱 적절하다.

# 객체지향의 기본사상

- 상태와 상태를 조작하기 위한 행동을 하나로 묶어 관리한다.
- 객체의 상태는 스스로의 행동에 의해서만 상태변경을 보장한다.
- 객체가 외부에 노출하는 건 행동 뿐이며, 외부에서 객체에 접근할 수 있는 방법 역시 행동 뿐이다.
