# 5장

# 책임

- 객체는 자율적이어야 한다.
- 객체는 책임을 가지고 있고, 요청에 따라 역할을 수행해야 한다.
- 요청한 책임을 수행할 수 있다면, 그 중간의 방법은 객체가 알아서 할 수 있도록 맡긴다.
- separate code and logic
- 객체지향 세계란 '자율적인' 객체의 공동체 → 그렇기에 객체가 자율적이기 위해선 객체에 할당되는 책임의 수준 역시 자율적이어야 한다.
- 책임은 너무 구체적이어도 안 되고, 너무 추상적이어도 안 된다.
  - 협력이라는 맥락 속에서 그 책임을 이해했을 때, 객체의 자율성을 얼마나 보장하는지를 따져보아야 한다.
  - 책임만 똑 떼어놓고 보았을 때 '너무 추상적이다', 혹은 '너무 구체적이다' 라고 할 수 있겠지만, 협력 관계라는 맥락 속에서 그 책임소재를 보았을 때의 결과는 또 다를 수 있다.
- 다만, 전반적으로 보자면 `how` 보다는 `what` 에 집중하게 하는 것이 좋다는 것이다.
  - how 에 대해서는, 그 책임을 수행하는 객체가 전담할 수 있게 자율성을 보장해야 한다.

# 메시지

- 메시지란, 객체간의 협력의 매개체이다.
- 어떤 객체에게, 무엇을 하라! 라고 요청을 하고, 요청에 필요한 추가적인 정보가 필요하다면 인자(parameter)를 추가로 첨부하여 메시지를 보내준다.

## What / Who 방식의 설계

- "어떤 객체가 필요할까?" 라는 생각을 먼저 하는 것보단, "어떤 일을 해야할까?" 라는 생각을 먼저 하는 것이 좋다.
  - 왜냐면, 결국 어떤 객체가 필요할지 생각하게 된다면, 그 객체의 행동에 따라 일이 규정되기 때문이다.
  - 따라서, 어떤 일을 해야할지를 먼저 정하고, 그 일을 수행할 객체를 만드는 것이 더욱 설계를 유연하게 만들어 줄 수 있다.

## Interface

- 인터페이스란 어떤 사물이 마주치는 경계 지점에서, 서로 상호작용 할 수 있게 이어주는 방법과 장치를 의미한다. 컴퓨터와 키보드/마우스 등도 사람 - 기기의 인터페이스가 될 수 있고, 어떤 서비스를 제공하는 회사의 웹사이트도 어떤 회사 - 나 사이의 인터페이스가 될 수 있다.
- 일반적으로 인터페이스는 세 가지 특징을 지닌다.

  - 첫째, 인터페이스의 사용법만 익힌다면 내부 구조와 동작원리를 몰라도 의사를 전달할 수 있다.
    - 스마트폰의 화면을 터치했을 때, `onTouch` event 가 작동해서, 어떤 함수가 실행되고, 어떤 함수는 어떤 방식으로 호출되어 다른 함수를 부르고, 그 기능에 대한 반환값을 화면에서 render 하는 걸 고려하지 않듯이, "그냥 스마트폰의 화면을 터치하면, 그 터치한 결과에 맞는 어떤 일이 일어나겠구나" 정도를 생각할 수 있다.
  - 둘째, 인터페이스 자체는 변경하지 않고, 단순히 내부 구성이나 작동방식을 변경하는 건 인터페이스 사용자에게 아무런 영향도 미치지 못 한다.
    - 위의 스마트폰 예시를 마저 들어서 이야기할 수 있다. 결국 눌렀을 때 어떤 일이 일어난다는 사실은 변하지 않은 채로, 내부 함수의 어떤 부분에 성능 저하가 있는 걸 발견하여 그 부분을 처리했다는 사실은 사용자에게 영향을 미치지 않는다.
  - 셋째, 대상이 변경되더라도 동일한 인터페이스를 제공하기만 하면, 아무런 문제 없이 상호작용 할 수 있다.
    - 이것도 스마트폰 예시를 마저 들어서 이야기할 수 있다. 홈 화면에서의 터치 이벤트나, 어떤 애플리케이션 내부의 터치 이벤트나, 눌렀을 때 어떤 반응이 일어난다는 동일한 interface 설계가 있다는 가정 하에, 상호작용 하는데 아무런 문제가 없다.
  - 책에서는 자동차를 통해 예시를 들었다.

    - 더 보기

      ![01](/chapter-5/01.png)

- interface 의 가장 중요한 역할은 객체의 외부와 내부를 분리한다는 것이다.
- 객체지향적인 사고방식을 이해하기 위해서는 다음과 같은 세 가지 원칙이 중요하다.
  - 좀 더 추상적인 인터페이스
    - 이는, 어떤 행위를 하는 걸 절차적으로 간섭하는 게 아니다.
    - 왕이 모자장수에게 증인으로서 증언을 요청하는 것 정도가 추상적인 인터페이스, 어디에 있었는지 대답하고, 그 때 무엇을 했는지 대답하는 것이 추상적이지 않은(concrete) 인터페이스이다.
    - 인터페이스를 추상적으로 구성함으로써, 객체의 자율성을 보장한다.
  - 최소한의 인터페이스
    - 외부로 노출되어야 하는 인터페이스는 최소한으로 줄여, 인터페이스를 통해 호출하는 다른 요소들과의 의존성을 낮춘다.
  - 인터페이스는 구현과 다르다는 사실을 인지
    - 객체의 외부와 내부를 분리하는 행위를 의미한다.
    - 객체의 공용 인터페이스와, 그 인터페이스를 통해 수행되는 일들(method)을 명백히 구분하라는 이야기이다.
- 전체적인 협력의 실제 품질을 올리기 위해선 책임의 자율성을 증가시켜야 한다. 책임의 자율성을 증가시키기 위해서는 객체의 공용 인터페이스(public interface) 와 내부의 구현 (internal implementaion)을 구분하는 방법을 사용해야 한다.
- 책임의 자율성을 확보함으로써 얻을 수 있는 장점들
  - 협력을 더 단순하게 만든다
  - 객체의 외부와 내부를 더 명확하게 분리한다
  - 책임을 어떻게 수행하는지(내부적인 방법)가 외부에 영향을 미치지 않는다
  - 협력의 대상을 다양하게 선택할 수 있는 유연성을 제공한다
  - 책임이 자율적일수록, 객체의 역할을 이해하기 쉬워진다
